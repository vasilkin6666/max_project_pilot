<!DOCTYPE html>
<html lang="ru" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Pilot Pro - –ü—Ä–µ–º–∏—É–º PWA –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞–º–∏</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://st.max.ru/js/max-web-app.js"></script>
    <style>
        /* –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π */
        :root {
            --mouse-x: 0;
            --mouse-y: 0;
            --scroll-y: 0;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø–ª–∞–≤–Ω–æ –∑–∞—Ç—É—Ö–∞—é—â–µ–≥–æ —Ç–µ–∫—Å—Ç–∞ (—Ñ–æ–Ω–æ–≤–æ–≥–æ) */
        .fading-text {
            animation: fade 2s ease-in-out infinite;
            margin-top: 20px;
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.6);
            text-align: center;
            pointer-events: none;
            padding: 10px 20px;
            position: relative;
            z-index: 1;
        }

        @keyframes fade {
            0%, 100% {
                opacity: 0.4;
            }
            50% {
                opacity: 0.8;
            }
        }

        /* –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º, —á—Ç–æ –∑–∞—Å—Ç–∞–≤–∫–∞ –±—É–¥–µ—Ç –ø–æ–≤–µ—Ä—Ö –≤—Å–µ–≥–æ */
        .loading-overlay {
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            width: 100% !important;
            height: 100% !important;
            z-index: 9999 !important;
            transition: opacity 0.8s ease-in-out !important;
            cursor: pointer;
        }

        /* –°–∫—Ä—ã–≤–∞–µ–º –∑–∞—Å—Ç–∞–≤–∫—É –ø–æ—Å–ª–µ –∫–ª–∏–∫–∞ */
        .loading-overlay.hidden {
            opacity: 0 !important;
            pointer-events: none !important;
        }

        /* –î–µ–ª–∞–µ–º –≤–µ—Å—å –∫–æ–Ω—Ç–µ–Ω—Ç –∑–∞—Å—Ç–∞–≤–∫–∏ –Ω–µ–Ω–∞–∂–∏–º–∞–µ–º—ã–º, –∫—Ä–æ–º–µ —Å–∞–º–æ–π –∑–∞—Å—Ç–∞–≤–∫–∏ */
        .loading-content {
            pointer-events: none;
        }

        /* –ù–æ —Å–∞–º–∞ –∑–∞—Å—Ç–∞–≤–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ–π */
        .loading-overlay {
            pointer-events: auto;
        }

        /* –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π */
        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideOutLeft {
            from {
                opacity: 1;
                transform: translateX(0);
            }
            to {
                opacity: 0;
                transform: translateX(-30px);
            }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body class="safe-area">
    <!-- –ö–∞—Å—Ç–æ–º–Ω—ã–π –∫—É—Ä—Å–æ—Ä –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–∞ -->
    <div id="cursor" class="cursor"></div>
    <div id="cursor-follower" class="cursor-follower"></div>

    <!-- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω -->
    <div class="animated-bg">
        <div class="floating-shapes">
            <div class="shape shape-1"></div>
            <div class="shape shape-2"></div>
            <div class="shape shape-3"></div>
            <div class="shape shape-4"></div>
        </div>
    </div>

    <!-- –ó–∞—Å—Ç–∞–≤–∫–∞ –≤ –Ω–æ–≤–æ–º —Å—Ç–∏–ª–µ -->
    <div id="loading" class="loading-overlay neo-overlay">
        <div class="loading-content">
            <div class="logo-animation">
                <div class="logo-icon">
                    <i class="fas fa-rocket"></i>
                </div>
                <div class="logo-orbits">
                    <div class="orbit orbit-1"></div>
                    <div class="orbit orbit-2"></div>
                    <div class="orbit orbit-3"></div>
                </div>
            </div>

            <h1 class="logo-text glitch" data-text="Project Pilot Pro">Project Pilot Pro</h1>
            <p class="loading-subtitle">–¢–≤–æ–π —Ü–∏—Ñ—Ä–æ–≤–æ–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø—Ä–æ–µ–∫—Ç–æ–≤</p>

            <div class="loading-progress">
                <div class="progress-bar neo-progress">
                    <div class="progress-fill" id="loadingBarProgress"></div>
                </div>
            </div>

            <div class="start-hint">
                <div class="hint-pulse">
                    <i class="fas fa-hand-pointer"></i>
                </div>
                <span>–ù–∞–∂–º–∏ –¥–ª—è —Å—Ç–∞—Ä—Ç–∞</span>
            </div>
        </div>

        <div class="spark-container" id="sparkContainer"></div>
        <div class="noise-overlay"></div>
    </div>

    <div id="app" style="display: none;">
        <!-- –ù–æ–≤—ã–π —Ö–µ–¥–µ—Ä –≤ —Å—Ç–∏–ª–µ glassmorphism -->
        <header class="header glass-header">
            <div class="header-blur"></div>
            <div class="container">
                <div class="header-content">
                    <div class="logo-section">
                        <div class="app-logo">
                            <i class="fas fa-rocket"></i>
                        </div>
                        <h1 class="logo">Project Pilot</h1>
                    </div>

                    <nav class="nav-main">
                        <button class="nav-item" id="dashboardBtn">
                            <i class="fas fa-th-large"></i>
                            <span class="nav-text">–î–∞—à–±–æ—Ä–¥</span>
                        </button>
                        <button class="nav-item" id="searchProjectsBtn">
                            <i class="fas fa-search"></i>
                            <span class="nav-text">–ü–æ–∏—Å–∫</span>
                        </button>
                        <button class="nav-item" id="notificationsBtn">
                            <i class="fas fa-bell"></i>
                            <span class="nav-text">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</span>
                            <span class="nav-badge">3</span>
                        </button>
                        <button class="nav-item" id="myTasksBtn">
                            <i class="fas fa-tasks"></i>
                            <span class="nav-text">–ó–∞–¥–∞—á–∏</span>
                        </button>
                        <button class="nav-item" id="settingsBtn">
                            <i class="fas fa-cog"></i>
                            <span class="nav-text">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
                        </button>
                    </nav>

                    <div class="user-section">
                        <div class="user-avatar">
                            <img src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=40&h=40&fit=crop&crop=face" alt="User">
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <main class="main-content">
            <div class="container">
                <!-- –î–∞—à–±–æ—Ä–¥ —Å –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π -->
                <div id="dashboardView" class="view active">
                    <div class="dashboard-header">
                        <div class="greeting-section">
                            <h2 class="greeting">–ü—Ä–∏–≤–µ—Ç, –ö–æ–¥–µ—Ä! üëã</h2>
                            <p class="greeting-sub">–ì–æ—Ç–æ–≤ –∫ –Ω–æ–≤—ã–º –≤—ã–∑–æ–≤–∞–º?</p>
                        </div>
                        <button class="btn btn-primary neo-button" id="createProjectBtn">
                            <i class="fas fa-plus"></i>
                            <span>–ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç</span>
                        </button>
                    </div>

                    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ –≤–∏–¥–µ –∫–∞—Ä—Ç–æ—á–µ–∫ -->
                    <div class="stats-grid">
                        <div class="stat-card neo-card">
                            <div class="stat-icon">
                                <i class="fas fa-folder"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="projectsCount">0</h3>
                                <p>–ü—Ä–æ–µ–∫—Ç–æ–≤</p>
                            </div>
                        </div>
                        <div class="stat-card neo-card">
                            <div class="stat-icon">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="tasksCount">0</h3>
                                <p>–ó–∞–¥–∞—á</p>
                            </div>
                        </div>
                        <div class="stat-card neo-card">
                            <div class="stat-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="recentTasksCount">0</h3>
                                <p>–ê–∫—Ç–∏–≤–Ω—ã—Ö</p>
                            </div>
                        </div>
                    </div>

                    <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
                    <div class="quick-actions">
                        <h3>–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>
                        <div class="actions-grid">
                            <button class="action-btn neo-card" onclick="App.showCreateTaskModal()">
                                <i class="fas fa-plus"></i>
                                <span>–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞</span>
                            </button>
                            <button class="action-btn neo-card" onclick="App.showSearchProjects()">
                                <i class="fas fa-search"></i>
                                <span>–ù–∞–π—Ç–∏ –ø—Ä–æ–µ–∫—Ç</span>
                            </button>
                            <button class="action-btn neo-card" onclick="App.loadMyTasks()">
                                <i class="fas fa-list"></i>
                                <span>–ú–æ–∏ –∑–∞–¥–∞—á–∏</span>
                            </button>
                            <button class="action-btn neo-card" onclick="App.showSettings()">
                                <i class="fas fa-chart-line"></i>
                                <span>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</span>
                            </button>
                        </div>
                    </div>

                    <!-- –°–µ—Ç–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ -->
                    <div class="section">
                        <div class="section-header">
                            <h3>–ú–æ–∏ –ø—Ä–æ–µ–∫—Ç—ã</h3>
                            <button class="btn btn-ghost" onclick="App.showCreateProjectModal()">
                                <i class="fas fa-ellipsis-h"></i>
                            </button>
                        </div>
                        <div id="projectsList" class="projects-grid">
                            <!-- Project cards will be loaded here -->
                        </div>
                    </div>

                    <!-- –ù–µ–¥–∞–≤–Ω–∏–µ –∑–∞–¥–∞—á–∏ -->
                    <div class="section">
                        <div class="section-header">
                            <h3>–ù–µ–¥–∞–≤–Ω–∏–µ –∑–∞–¥–∞—á–∏</h3>
                            <button class="btn btn-ghost" onclick="App.showMyTasks()">
                                <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                        <div id="recentTasksList" class="tasks-list">
                            <!-- Recent tasks will be loaded here -->
                        </div>
                    </div>
                </div>

                <!-- Project View -->
                <div id="projectView" class="view" style="display: none;">
                    <div class="project-header">
                        <div class="project-info">
                            <h2 id="projectTitleHeader">–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞</h2>
                            <p id="projectDescriptionText">–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞</p>
                            <div id="projectHashInfo" class="project-hash-info">
                                –•—ç—à –ø—Ä–æ–µ–∫—Ç–∞: <span id="projectHashValue"></span>
                            </div>
                        </div>
                        <div class="project-stats">
                            <span class="stat-item">–£—á–∞—Å—Ç–Ω–∏–∫–æ–≤: <span id="projectMembersCount">0</span></span>
                            <span class="stat-item">–í—Å–µ–≥–æ –∑–∞–¥–∞—á: <span id="projectTotalTasks">0</span></span>
                            <span class="stat-item">–í—ã–ø–æ–ª–Ω–µ–Ω–æ: <span id="projectDoneTasks">0</span></span>
                            <span class="stat-item">–í —Ä–∞–±–æ—Ç–µ: <span id="projectInProgressTasks">0</span></span>
                        </div>
                        <div class="project-actions">
                            <button class="btn btn-secondary" id="manageMembersBtn">–£—á–∞—Å—Ç–Ω–∏–∫–∏</button>
                            <button class="btn btn-warning" id="joinRequestsBtn">–ó–∞—è–≤–∫–∏</button>
                            <button class="btn btn-primary" id="editProjectBtn">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                            <button class="btn btn-danger" id="deleteProjectBtn">–£–¥–∞–ª–∏—Ç—å</button>
                            <button class="btn btn-outline" onclick="App.backToProject()">–ù–∞–∑–∞–¥</button>
                        </div>
                    </div>

                    <div class="project-content">
                        <div class="project-tasks-section">
                            <div class="section-header">
                                <h3>–ó–∞–¥–∞—á–∏ –ø—Ä–æ–µ–∫—Ç–∞</h3>
                                <button class="btn btn-primary" id="createTaskBtn">–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É</button>
                            </div>
                            <div id="projectTasksList" class="tasks-list">
                                <!-- Tasks will be loaded here -->
                            </div>
                        </div>

                        <div class="project-members-section">
                            <h3>–£—á–∞—Å—Ç–Ω–∏–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞</h3>
                            <div id="projectMembersList" class="members-list">
                                <!-- Members will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Task View -->
                <div id="taskView" class="view" style="display: none;">
                    <div class="task-header">
                        <div class="task-info">
                            <h2 id="taskTitleHeader">–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏</h2>
                            <p id="taskDescriptionText">–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏</p>
                        </div>
                        <div class="task-actions">
                            <select id="taskStatusSelect" onchange="App.updateTaskStatus()">
                                <option value="todo">–ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é</option>
                                <option value="in_progress">–í —Ä–∞–±–æ—Ç–µ</option>
                                <option value="done">–í—ã–ø–æ–ª–Ω–µ–Ω–æ</option>
                            </select>
                            <button class="btn btn-primary" id="editTaskBtn">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                            <button class="btn btn-danger" id="deleteTaskBtn">–£–¥–∞–ª–∏—Ç—å</button>
                            <button class="btn btn-outline" onclick="App.backToProject()">–ù–∞–∑–∞–¥ –∫ –ø—Ä–æ–µ–∫—Ç—É</button>
                        </div>
                    </div>

                    <div class="task-content">
                        <div class="task-details">
                            <div class="detail-item">
                                <strong>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:</strong> <span id="taskPriorityText">-</span>
                            </div>
                            <div class="detail-item">
                                <strong>–°–æ–∑–¥–∞–Ω–∞:</strong> <span id="taskCreatedAtText">-</span>
                            </div>
                            <div class="detail-item">
                                <strong>–°—Ä–æ–∫:</strong> <span id="taskDueDateText">-</span>
                            </div>
                            <div class="detail-item">
                                <strong>–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:</strong> <span id="taskAssignedToText">-</span>
                            </div>
                        </div>

                        <div id="subtasksSection" style="display: none;">
                            <h4>–ü–æ–¥–∑–∞–¥–∞—á–∏</h4>
                            <button class="btn btn-sm btn-outline" id="createSubtaskBtn" style="margin-bottom: var(--space-4);">–°–æ–∑–¥–∞—Ç—å –ø–æ–¥–∑–∞–¥–∞—á—É</button>
                            <div id="subtasksList">
                                <!-- Subtasks will be loaded here -->
                            </div>
                        </div>

                        <div class="comments-section">
                            <h4>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</h4>
                            <div id="taskCommentsList">
                                <!-- Comments will be loaded here -->
                            </div>
                            <div class="comment-form">
                                <input type="text" id="newCommentText" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π...">
                                <button class="btn btn-primary" id="addCommentBtn">–î–æ–±–∞–≤–∏—Ç—å</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- My Tasks View -->
                <div id="myTasksView" class="view" style="display: none;">
                    <div class="my-tasks-header">
                        <h2>–ú–æ–∏ –∑–∞–¥–∞—á–∏</h2>
                        <div class="filters">
                            <select id="tasksFilterStatus">
                                <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                                <option value="todo">–ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é</option>
                                <option value="in_progress">–í —Ä–∞–±–æ—Ç–µ</option>
                                <option value="done">–í—ã–ø–æ–ª–Ω–µ–Ω–æ</option>
                            </select>
                            <select id="tasksFilterProject">
                                <option value="">–í—Å–µ –ø—Ä–æ–µ–∫—Ç—ã</option>
                                <!-- Project options will be loaded dynamically -->
                            </select>
                        </div>
                    </div>
                    <div id="myTasksList" class="tasks-list">
                        <!-- User tasks will be loaded here -->
                    </div>
                </div>

                <!-- Notifications View -->
                <div id="notificationsView" class="view" style="display: none;">
                    <div class="notifications-header">
                        <h2>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h2>
                        <button class="btn btn-outline" onclick="App.showDashboard()">–ù–∞–∑–∞–¥</button>
                    </div>
                    <div id="notificationsList">
                        <!-- Notifications will be loaded here -->
                    </div>
                </div>

                <!-- Search Projects View -->
                <div id="searchProjectsView" class="view" style="display: none;">
                    <div class="search-projects-header">
                        <h2>–ü–æ–∏—Å–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤</h2>
                        <button class="btn btn-outline" onclick="App.showDashboard()">–ù–∞–∑–∞–¥</button>
                    </div>
                    <div class="search-projects-form">
                        <input type="text" id="searchProjectsInput" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –ø—Ä–æ–µ–∫—Ç–∞...">
                        <button class="btn btn-primary" id="searchProjectsSubmitBtn">–ò—Å–∫–∞—Ç—å</button>
                    </div>
                    <div id="searchResultsList">
                        <!-- Search results will be loaded here -->
                    </div>
                </div>

                <!-- Join Requests View -->
                <div id="joinRequestsView" class="view" style="display: none;">
                    <div class="join-requests-header">
                        <h2>–ó–∞—è–≤–∫–∏ –Ω–∞ –≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ</h2>
                        <button class="btn btn-outline" onclick="App.backToProject()">–ù–∞–∑–∞–¥ –∫ –ø—Ä–æ–µ–∫—Ç—É</button>
                    </div>
                    <div id="joinRequestsList">
                        <!-- Join requests will be loaded here -->
                    </div>
                </div>

                <!-- Project Members Management View -->
                <div id="projectMembersView" class="view" style="display: none;">
                    <div class="members-management-header">
                        <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏</h2>
                        <button class="btn btn-outline" onclick="App.backToProject()">–ù–∞–∑–∞–¥ –∫ –ø—Ä–æ–µ–∫—Ç—É</button>
                    </div>
                    <div id="projectMembersManagementList">
                        <!-- Members management will be loaded here -->
                    </div>
                </div>
            </div>
        </main>

        <!-- –ü–ª–∞–≤–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π -->
        <div class="fab-container">
            <button class="fab neo-fab" id="mainFab">
                <i class="fas fa-plus"></i>
            </button>
            <div class="fab-menu">
                <button class="fab-item" onclick="App.showCreateProjectModal()">
                    <i class="fas fa-folder-plus"></i>
                </button>
                <button class="fab-item" onclick="App.showCreateTaskModal()">
                    <i class="fas fa-tasks"></i>
                </button>
                <button class="fab-item" onclick="App.showSearchProjects()">
                    <i class="fas fa-search"></i>
                </button>
            </div>
        </div>

        <!-- –ú–æ–±–∏–ª—å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
        <nav class="mobile-nav glass-nav">
            <div class="mobile-nav-items">
                <a href="#" class="mobile-nav-item active" data-view="dashboardView">
                    <i class="fas fa-th-large"></i>
                    <span>–ì–ª–∞–≤–Ω–∞—è</span>
                </a>
                <a href="#" class="mobile-nav-item" data-view="myTasksView">
                    <i class="fas fa-tasks"></i>
                    <span>–ó–∞–¥–∞—á–∏</span>
                </a>
                <a href="#" class="mobile-nav-item" data-view="searchProjectsView">
                    <i class="fas fa-search"></i>
                    <span>–ü–æ–∏—Å–∫</span>
                </a>
                <a href="#" class="mobile-nav-item" data-view="notificationsView">
                    <i class="fas fa-bell"></i>
                    <span>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</span>
                    <span class="nav-badge">3</span>
                </a>
                <a href="#" class="mobile-nav-item" id="mobileSettingsBtn">
                    <i class="fas fa-user"></i>
                    <span>–ü—Ä–æ—Ñ–∏–ª—å</span>
                </a>
            </div>
        </nav>
    </div>

    <!-- Modals -->
    <!-- Create Project Modal -->
    <div id="createProjectModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç</h3>
                <button class="modal-close" onclick="App.hideModal('createProjectModal')">√ó</button>
            </div>
            <div class="modal-body">
                <form id="createProjectForm">
                    <div class="form-group">
                        <label for="projectTitle">–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ *</label>
                        <input type="text" id="projectTitle" required>
                    </div>
                    <div class="form-group">
                        <label for="projectDescription">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                        <textarea id="projectDescription" rows="3"></textarea>
                    </div>
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="projectIsPrivate" checked> –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –ø—Ä–æ–µ–∫—Ç
                        </label>
                    </div>
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="projectRequiresApproval"> –¢—Ä–µ–±—É–µ—Ç—Å—è –æ–¥–æ–±—Ä–µ–Ω–∏–µ –¥–ª—è –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è
                        </label>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="App.hideModal('createProjectModal')">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" id="submitCreateProjectBtn">–°–æ–∑–¥–∞—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- Edit Project Modal -->
    <div id="editProjectModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç</h3>
                <button class="modal-close" onclick="App.hideModal('editProjectModal')">√ó</button>
            </div>
            <div class="modal-body">
                <form id="editProjectForm">
                    <div class="form-group">
                        <label for="editProjectTitle">–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ *</label>
                        <input type="text" id="editProjectTitle" required>
                    </div>
                    <div class="form-group">
                        <label for="editProjectDescription">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                        <textarea id="editProjectDescription" rows="3"></textarea>
                    </div>
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="editProjectIsPrivate"> –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –ø—Ä–æ–µ–∫—Ç
                        </label>
                    </div>
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="editProjectRequiresApproval"> –¢—Ä–µ–±—É–µ—Ç—Å—è –æ–¥–æ–±—Ä–µ–Ω–∏–µ –¥–ª—è –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è
                        </label>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="App.hideModal('editProjectModal')">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" id="submitEditProjectBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- Delete Project Modal -->
    <div id="deleteProjectModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–µ–∫—Ç</h3>
                <button class="modal-close" onclick="App.hideModal('deleteProjectModal')">√ó</button>
            </div>
            <div class="modal-body">
                <p>–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –ø—Ä–æ–µ–∫—Ç "<span id="deleteProjectName"></span>"? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="App.hideModal('deleteProjectModal')">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-danger" id="confirmDeleteProjectBtn">–£–¥–∞–ª–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- Create Task Modal -->
    <div id="createTaskModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É</h3>
                <button class="modal-close" onclick="App.hideModal('createTaskModal')">√ó</button>
            </div>
            <div class="modal-body">
                <form id="createTaskForm">
                    <div class="form-group">
                        <label for="taskTitle">–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ *</label>
                        <input type="text" id="taskTitle" required>
                    </div>
                    <div class="form-group">
                        <label for="taskDescription">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                        <textarea id="taskDescription" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="taskPriority">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</label>
                        <select id="taskPriority">
                            <option value="low">–ù–∏–∑–∫–∏–π</option>
                            <option value="medium" selected>–°—Ä–µ–¥–Ω–∏–π</option>
                            <option value="high">–í—ã—Å–æ–∫–∏–π</option>
                            <option value="urgent">–°—Ä–æ—á–Ω—ã–π</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="taskDueDate">–°—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</label>
                        <input type="date" id="taskDueDate">
                    </div>
                    <div class="form-group">
                        <label for="taskParentId">–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –∑–∞–¥–∞—á–∞</label>
                        <select id="taskParentId">
                            <option value="">–û—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ (–±–µ–∑ —Ä–æ–¥–∏—Ç–µ–ª—è)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="taskAssignedTo">–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å</label>
                        <select id="taskAssignedTo">
                            <option value="">–ù–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∞</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="App.hideModal('createTaskModal')">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" id="submitCreateTaskBtn">–°–æ–∑–¥–∞—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- Edit Task Modal -->
    <div id="editTaskModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á—É</h3>
                <button class="modal-close" onclick="App.hideModal('editTaskModal')">√ó</button>
            </div>
            <div class="modal-body">
                <form id="editTaskForm">
                    <div class="form-group">
                        <label for="editTaskTitle">–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ *</label>
                        <input type="text" id="editTaskTitle" required>
                    </div>
                    <div class="form-group">
                        <label for="editTaskDescription">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                        <textarea id="editTaskDescription" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="editTaskPriority">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</label>
                        <select id="editTaskPriority">
                            <option value="low">–ù–∏–∑–∫–∏–π</option>
                            <option value="medium">–°—Ä–µ–¥–Ω–∏–π</option>
                            <option value="high">–í—ã—Å–æ–∫–∏–π</option>
                            <option value="urgent">–°—Ä–æ—á–Ω—ã–π</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="editTaskDueDate">–°—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</label>
                        <input type="date" id="editTaskDueDate">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="App.hideModal('editTaskModal')">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" id="submitEditTaskBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- Delete Task Modal -->
    <div id="deleteTaskModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É</h3>
                <button class="modal-close" onclick="App.hideModal('deleteTaskModal')">√ó</button>
            </div>
            <div class="modal-body">
                <p>–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É "<span id="deleteTaskName"></span>"? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="App.hideModal('deleteTaskModal')">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-danger" id="confirmDeleteTaskBtn">–£–¥–∞–ª–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- Create Subtask Modal -->
    <div id="createSubtaskModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–°–æ–∑–¥–∞—Ç—å –ø–æ–¥–∑–∞–¥–∞—á—É</h3>
                <button class="modal-close" onclick="App.hideModal('createSubtaskModal')">√ó</button>
            </div>
            <div class="modal-body">
                <form id="createSubtaskForm">
                    <div class="form-group">
                        <label for="subtaskTitle">–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–¥–∑–∞–¥–∞—á–∏ *</label>
                        <input type="text" id="subtaskTitle" required>
                    </div>
                    <div class="form-group">
                        <label for="subtaskDescription">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                        <textarea id="subtaskDescription" rows="2"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="App.hideModal('createSubtaskModal')">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" id="submitCreateSubtaskBtn">–°–æ–∑–¥–∞—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- Update Member Role Modal -->
    <div id="updateMemberRoleModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–û–±–Ω–æ–≤–∏—Ç—å —Ä–æ–ª—å —É—á–∞—Å—Ç–Ω–∏–∫–∞</h3>
                <button class="modal-close" onclick="App.hideModal('updateMemberRoleModal')">√ó</button>
            </div>
            <div class="modal-body">
                <p>–ò–∑–º–µ–Ω–∏—Ç—å —Ä–æ–ª—å –¥–ª—è: <strong id="memberName"></strong></p>
                <select id="memberRoleSelect">
                    <option value="member">–£—á–∞—Å—Ç–Ω–∏–∫</option>
                    <option value="admin">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</option>
                </select>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="App.hideModal('updateMemberRoleModal')">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" id="submitUpdateMemberRoleBtn">–û–±–Ω–æ–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- Remove Member Modal -->
    <div id="removeMemberModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–£–¥–∞–ª–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞</h3>
                <button class="modal-close" onclick="App.hideModal('removeMemberModal')">√ó</button>
            </div>
            <div class="modal-body">
                <p>–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞?</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="App.hideModal('removeMemberModal')">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-danger" id="confirmRemoveMemberBtn">–£–¥–∞–ª–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
                <button class="modal-close" onclick="App.hideModal('settingsModal')">√ó</button>
            </div>
            <div class="modal-body">
                <form id="settingsForm">
                    <div class="form-group">
                        <label for="userFullName">–ü–æ–ª–Ω–æ–µ –∏–º—è</label>
                        <input type="text" id="userFullName">
                    </div>
                    <div class="form-group">
                        <label for="userUsername">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                        <input type="text" id="userUsername">
                    </div>
                    <div class="form-group">
                        <label for="userTheme">–¢–µ–º–∞</label>
                        <select id="userTheme">
                            <option value="light">–°–≤–µ—Ç–ª–∞—è</option>
                            <option value="dark">–¢–µ–º–Ω–∞—è</option>
                        </select>
                    </div>
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="userNotificationsEnabled"> –í–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
                        </label>
                    </div>
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="userCompactView"> –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –≤–∏–¥
                        </label>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-warning" onclick="App.resetUserPreferences()">–°–±—Ä–æ—Å–∏—Ç—å</button>
                <button class="btn btn-outline" onclick="App.hideModal('settingsModal')">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" onclick="App.handleSaveSettings()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- Project Preview Modal -->
    <div id="projectPreviewModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ</h3>
                <button class="modal-close" onclick="App.hideModal('projectPreviewModal')">√ó</button>
            </div>
            <div class="modal-body" id="projectPreviewBody">
                <!-- Content loaded dynamically -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="App.hideModal('projectPreviewModal')">–ó–∞–∫—Ä—ã—Ç—å</button>
                <button class="btn btn-primary" id="joinProjectFromPreviewBtn" style="display: none;">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>
            </div>
        </div>
    </div>

    <!-- Notifications Modal -->
    <div id="notificationsModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h3>
                <button class="modal-close" onclick="App.hideModal('notificationsModal')">√ó</button>
            </div>
            <div class="modal-body" id="notificationsModalBody">
                <!-- Content loaded dynamically -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="App.hideModal('notificationsModal')">–ó–∞–∫—Ä—ã—Ç—å</button>
                <button class="btn btn-primary" onclick="App.markAllNotificationsRead()">–û—Ç–º–µ—Ç–∏—Ç—å –≤—Å–µ –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ</button>
            </div>
        </div>
    </div>

    <script src="js/api.js"></script>
    <script src="js/app.js"></script>
    <script>
    // Advanced animations and interactions
    class AppAnimations {
        static init() {
            this.initCursor();
            this.initScrollAnimations();
            this.initPageTransitions();
            this.initMicroInteractions();
        }

        // –ö–∞—Å—Ç–æ–º–Ω—ã–π –∫—É—Ä—Å–æ—Ä
        static initCursor() {
            const cursor = document.getElementById('cursor');
            const follower = document.getElementById('cursor-follower');

            if (!cursor || !follower) return;

            document.addEventListener('mousemove', (e) => {
                cursor.style.left = e.clientX + 'px';
                cursor.style.top = e.clientY + 'px';

                setTimeout(() => {
                    follower.style.left = e.clientX + 'px';
                    follower.style.top = e.clientY + 'px';
                }, 100);
            });

            // –≠—Ñ—Ñ–µ–∫—Ç—ã –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
            const interactiveElements = document.querySelectorAll('button, a, .project-card, .task-card');

            interactiveElements.forEach(el => {
                el.addEventListener('mouseenter', () => {
                    cursor.style.transform = 'scale(1.5)';
                    follower.style.transform = 'scale(1.5)';
                    follower.style.borderColor = 'var(--primary)';
                });

                el.addEventListener('mouseleave', () => {
                    cursor.style.transform = 'scale(1)';
                    follower.style.transform = 'scale(1)';
                    follower.style.borderColor = 'var(--primary)';
                });
            });
        }

        // –ê–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
        static initScrollAnimations() {
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.animation = 'fadeIn 0.6s ease forwards';
                    }
                });
            }, observerOptions);

            // –ù–∞–±–ª—é–¥–∞–µ–º –∑–∞ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏
            document.querySelectorAll('.neo-card, .stat-card, .project-card').forEach(el => {
                el.style.opacity = '0';
                el.style.transform = 'translateY(30px)';
                observer.observe(el);
            });
        }

        // –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏
        static initPageTransitions() {
            const originalShowView = App.showView;

            App.showView = function(viewId) {
                const currentView = document.querySelector('.view.active');
                const newView = document.getElementById(viewId);

                if (currentView) {
                    currentView.style.animation = 'slideOutLeft 0.3s ease';
                    setTimeout(() => {
                        currentView.classList.remove('active');
                        currentView.style.animation = '';

                        newView.classList.add('active');
                        newView.style.animation = 'slideInRight 0.3s ease';

                        setTimeout(() => {
                            newView.style.animation = '';
                        }, 300);
                    }, 300);
                } else {
                    newView.classList.add('active');
                }
            };
        }

        // –ú–∏–∫—Ä–æ-–∏–Ω—Ç–µ—Ä–∞–∫—Ü–∏–∏
        static initMicroInteractions() {
            // –ê–Ω–∏–º–∞—Ü–∏—è –∫–Ω–æ–ø–æ–∫
            document.addEventListener('click', (e) => {
                if (e.target.matches('.neo-button, .btn')) {
                    const button = e.target;
                    button.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        button.style.transform = '';
                    }, 150);
                }
            });

            // –ü–∞—Ä–∞–ª–ª–∞–∫—Å —ç—Ñ—Ñ–µ–∫—Ç
            document.addEventListener('mousemove', (e) => {
                const x = (e.clientX / window.innerWidth) * 100;
                const y = (e.clientY / window.innerHeight) * 100;

                document.documentElement.style.setProperty('--mouse-x', x + '%');
                document.documentElement.style.setProperty('--mouse-y', y + '%');

                // –õ–µ–≥–∫–∏–π –ø–∞—Ä–∞–ª–ª–∞–∫—Å –¥–ª—è —Ñ–æ–Ω–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
                const shapes = document.querySelectorAll('.shape');
                shapes.forEach((shape, index) => {
                    const speed = (index + 1) * 0.5;
                    const xMove = (x - 50) * speed * 0.01;
                    const yMove = (y - 50) * speed * 0.01;
                    shape.style.transform = `translate(${xMove}px, ${yMove}px)`;
                });
            });
        }

        // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
        static animateElement(element, animation = 'fadeIn') {
            element.style.animation = `${animation} 0.6s ease forwards`;
        }

        // –í–∏–±—Ä–æ-—ç—Ñ—Ñ–µ–∫—Ç –¥–ª—è –æ—à–∏–±–æ–∫
        static shakeElement(element) {
            element.style.animation = 'shake 0.5s ease';
            setTimeout(() => {
                element.style.animation = '';
            }, 500);
        }
    }

    // –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è - –∑–∞—Å—Ç–∞–≤–∫–∞ –≤—Å–µ–≥–¥–∞ –≤–∏–¥–Ω–∞ –¥–æ –∫–ª–∏–∫–∞
    document.addEventListener('DOMContentLoaded', async () => {
        console.log('DOM fully loaded and parsed');

        try {
            console.log('Initializing App...');
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ —Ñ–æ–Ω–µ
            await App.init();
            console.log('App initialized successfully');

            // Initialize animations
            AppAnimations.init();

        } catch (error) {
            console.error('Error during app initialization:', error);
            // –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ –∑–∞—Å—Ç–∞–≤–∫–µ
            const loadingContent = document.querySelector('.loading-content');
            if (loadingContent) {
                loadingContent.innerHTML = `
                    <h2>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</h2>
                    <p>${error.message || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}</p>
                    <button onclick="location.reload()" class="btn btn-primary" style="margin-top: 20px;">–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å</button>
                `;
            }
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –ø–æ –∑–∞—Å—Ç–∞–≤–∫–µ
        const loadingOverlay = document.getElementById('loading');
        if (loadingOverlay) {
            loadingOverlay.addEventListener('click', function() {
                console.log('Loading overlay clicked, hiding splash screen');

                // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ —Å–∫—Ä—ã—Ç–∏—è
                loadingOverlay.classList.add('hidden');

                // –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–∫—Ä—ã–≤–∞–µ–º —á–µ—Ä–µ–∑ –≤—Ä–µ–º—è –∞–Ω–∏–º–∞—Ü–∏–∏
                setTimeout(() => {
                    loadingOverlay.style.display = 'none';
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
                    document.getElementById('app').style.display = 'block';
                    console.log('Splash screen hidden, app is ready');

                    // Initialize mobile features if not already
                    if (typeof MobileApp !== 'undefined' && typeof MobileApp.init === 'function') {
                        MobileApp.init();
                    }

                    // –ó–∞–ø—É—Å–∫–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
                    if (typeof App.showDashboard === 'function') {
                        App.showDashboard();
                    }
                }, 800);
            });
        }

        // –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ —Å–∫—Ä—ã–≤–∞—Ç—å –ø–æ –Ω–∞–∂–∞—Ç–∏—é –∫–ª–∞–≤–∏—à–∏
        document.addEventListener('keydown', function(e) {
            if (e.code === 'Space' || e.code === 'Enter') {
                const loadingOverlay = document.getElementById('loading');
                if (loadingOverlay && loadingOverlay.style.display !== 'none') {
                    loadingOverlay.click();
                }
            }

            // Back button simulation with Escape key
            if (e.code === 'Escape') {
                if (typeof App.backToPreviousView === 'function') {
                    App.backToPreviousView();
                }
            }
        });
    });
    </script>
</body>
</html>
