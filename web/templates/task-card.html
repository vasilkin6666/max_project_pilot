<!-- Шаблон карточки задачи -->
<script type="text/template" id="task-card-template">
    <div class="task-card"
         data-task-id="{{id}}"
         tabindex="0"
         role="button"
         aria-label="Задача: {{title}}, приоритет: {{priorityText}}, статус: {{statusText}}">

        <div class="swipe-actions" aria-hidden="true">
            <div class="swipe-action edit-action">
                <i class="fas fa-edit"></i>
            </div>
            <div class="swipe-action delete-action">
                <i class="fas fa-trash"></i>
            </div>
        </div>

        <div class="card-content">
            <div class="card-header">
                <h4 class="task-title">{{title}}</h4>
                <span class="priority-badge priority-{{priority}}" aria-label="Приоритет: {{priorityText}}">
                    {{priorityText}}
                </span>
            </div>

            <p class="task-description">
                {{description}}
            </p>

            <div class="task-meta">
                <div class="meta-item" aria-label="Исполнитель: {{assignee}}">
                    <i class="fas fa-user"></i>
                    <span>{{assignee}}</span>
                </div>
                <div class="meta-item {{#if isOverdue}}overdue{{/if}}"
                     aria-label="Срок: {{dueDate}} {{#if isOverdue}}(просрочено){{/if}}">
                    <i class="fas fa-clock"></i>
                    <span>{{dueDate}}</span>
                </div>
            </div>

            <div class="task-footer">
                <span class="status-badge status-{{status}}" aria-label="Статус: {{statusText}}">
                    {{statusText}}
                </span>

                {{#if hasSubtasks}}
                <div class="task-progress" aria-label="Прогресс подзадач: {{progress}}%">
                    <span class="progress-text">{{progress}}%</span>
                    <div class="progress-bar small">
                        <div class="progress-fill" style="width: {{progress}}%"></div>
                    </div>
                </div>
                {{/if}}
            </div>
        </div>
    </div>
</script>
